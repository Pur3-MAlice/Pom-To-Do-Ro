(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{10:function(e,t,a){e.exports={Row:"SignInUpForm_Row__3PbVy",Input:"SignInUpForm_Input__3xaLZ",Title:"SignInUpForm_Title__3cD-C",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm",Container:"SignInUpForm_Container__2cuBp",SignInCol:"SignInUpForm_SignInCol__3ImPK",SignUpCol:"SignInUpForm_SignUpCol__28o4y",FormContent:"SignInUpForm_FormContent__2z3eU",Button:"SignInUpForm_Button__1GaGa",Wide:"SignInUpForm_Wide__1spbi",Blue:"SignInUpForm_Blue__3mPCJ",BlueOutline:"SignInUpForm_BlueOutline__Eo-ur",Bright:"SignInUpForm_Bright__1FnEz",Black:"SignInUpForm_Black__1IwkA",BlackOutline:"SignInUpForm_BlackOutline__Ea4Bo",Content:"SignInUpForm_Content__1MOTv"}},103:function(e,t,a){},16:function(e,t,a){e.exports={HabitCard:"HabitList_HabitCard__3uni_",Habit:"HabitList_Habit__2mHeZ",Content:"HabitList_Content__39VGs",Button:"HabitList_Button__3Udiq",ButtonContainer:"HabitList_ButtonContainer__2yZDb",Table:"HabitList_Table__2zEsa",Check:"HabitList_Check__PS5DU",DeleteButton:"HabitList_DeleteButton__1Efiy"}},179:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(23),r=a.n(c),o=(a(103),a(18)),i=a.n(o);i.a.defaults.baseURL="/api",i.a.defaults.headers.post["Content-Type"]="multipart/form-data",i.a.defaults.withCredentials=!0;const l=i.a.create(),j=i.a.create();var d=a(11),u=a(36),b=a.n(u),h=a(22),m=a(10),x=a.n(m),O=a(184),p=a(94),g=a(80),v=a(189),y=a(185),C=a(186),k=a(1);var _=()=>{var e,t,a,n;const[c,r]=Object(s.useState)({username:"",password1:"",password2:""}),{username:o,password1:l,password2:j}=c,[u,b]=Object(s.useState)({}),m=Object(d.useHistory)(),_=e=>{r({...c,[e.target.name]:e.target.value})};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{className:"justify-content-md-center ".concat(x.a.Row),children:Object(k.jsx)(p.a,{className:"my-auto p-md-2",md:6,children:Object(k.jsxs)("div",{className:x.a.Title,children:[Object(k.jsx)("h1",{children:"Pom-To-Do-Ro"}),Object(k.jsx)("h4",{className:x.a.Title,children:"SignUp to access all the amazing features of Pom-To-Do-Ro!"})]})})}),Object(k.jsx)(O.a,{className:"justify-content-md-center ".concat(x.a.Row),children:Object(k.jsxs)(p.a,{className:"my-auto p-md-2",md:6,children:[Object(k.jsxs)(g.a,{className:"".concat(x.a.FormContent," p-4 "),children:[Object(k.jsx)("h1",{className:x.a.Header,children:"sign up here"}),Object(k.jsxs)(v.a,{onSubmit:async e=>{e.preventDefault();try{await i.a.post("/dj-rest-auth/registration/",c),m.push("/")}catch(a){var t;b(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(k.jsxs)(v.a.Group,{controlId:"username",children:[Object(k.jsx)(v.a.Label,{className:"d-none",children:"username"}),Object(k.jsx)(v.a.Control,{type:"text",placeholder:"Username",name:"username",value:o,onChange:_})]}),null===(e=u.username)||void 0===e?void 0:e.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{controlId:"password1",children:[Object(k.jsx)(v.a.Label,{className:"d-none",children:"Password"}),Object(k.jsx)(v.a.Control,{type:"password",placeholder:"Password",name:"password1",value:l,onChange:_})]}),null===(t=u.password1)||void 0===t?void 0:t.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{controlId:"password2",children:[Object(k.jsx)(v.a.Label,{className:"d-none",children:"Confirm password"}),Object(k.jsx)(v.a.Control,{type:"password",placeholder:"Confirm password",name:"password2",value:j,onChange:_})]}),null===(a=u.password2)||void 0===a?void 0:a.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsx)(C.a,{className:"".concat(x.a.Button," ").concat(x.a.Wide," ").concat(x.a.Bright),type:"submit",children:"Sign up"}),null===(n=u.non_field_errors)||void 0===n?void 0:n.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",className:"mt-3",children:e},t)))]})]}),Object(k.jsx)(g.a,{className:"mt-3 ".concat(x.a.Content),children:Object(k.jsxs)(h.b,{to:"/",className:x.a.Link,children:["Already have an account? ",Object(k.jsx)("span",{children:"Sign in"})]})})]})})]})};var f=()=>{var e,t,a;const[n,c]=Object(s.useState)({username:"",password:""}),{username:r,password:o}=n,[l,j]=Object(s.useState)({}),d=e=>{c({...n,[e.target.name]:e.target.value})};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{className:"justify-content-md-center ".concat(x.a.Row),children:Object(k.jsx)(p.a,{className:"my-auto p-md-2",md:6,children:Object(k.jsxs)("div",{className:x.a.Title,children:[Object(k.jsx)("h1",{children:"Pom-To-Do-Ro"}),Object(k.jsx)("h4",{className:x.a.Title,children:"SignUp to access all the amazing features of Pom-To-Do-Ro!"})]})})}),Object(k.jsx)(O.a,{className:"justify-content-md-center ".concat(x.a.Row),children:Object(k.jsxs)(p.a,{className:"my-auto p-md-2",md:6,children:[Object(k.jsxs)(g.a,{className:"".concat(x.a.FormContent," p-4 "),children:[Object(k.jsx)("h1",{className:x.a.Header,children:"sign in here"}),Object(k.jsxs)(v.a,{onSubmit:async e=>{e.preventDefault();try{await i.a.post("/dj-rest-auth/login/",n),window.location.reload()}catch(a){var t;j(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(k.jsxs)(v.a.Group,{controlId:"username",children:[Object(k.jsx)(v.a.Label,{className:"d-none",children:"username"}),Object(k.jsx)(v.a.Control,{type:"text",placeholder:"Username",name:"username",value:r,onChange:d})]}),null===(e=l.username)||void 0===e?void 0:e.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{controlId:"password",children:[Object(k.jsx)(v.a.Label,{className:"d-none",children:"Password"}),Object(k.jsx)(v.a.Control,{type:"password",placeholder:"Password",name:"password",value:o,onChange:d})]}),null===(t=l.password)||void 0===t?void 0:t.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsx)(C.a,{className:"".concat(x.a.Button," ").concat(x.a.Wide," ").concat(x.a.Bright),type:"submit",children:"Sign In"}),null===(a=l.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",className:"mt-3",children:e},t)))]})]}),Object(k.jsx)(g.a,{className:"mt-3 ".concat(x.a.Content),children:Object(k.jsxs)(h.b,{to:"/signup",className:x.a.Link,children:["Don't have an account yet? ",Object(k.jsx)("span",{children:"Sign up"})]})})]})})]})},w=a(190),N=a(188),S=a(58);const T=Object(s.createContext)(),B=Object(s.createContext)(),F=()=>Object(s.useContext)(T),H=e=>{let{children:t}=e;const[a,n]=Object(s.useState)(null),c=Object(S.useHistory)();return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await j.get("dj-rest-auth/user/");n(e)}catch(e){console.log(e)}})()}),[]),Object(s.useMemo)((()=>{l.interceptors.request.use((async e=>{try{await i.a.post("/dj-rest-auth/token/refresh/")}catch(t){return n((e=>(e&&c.push("/signin"),null))),e}return e}),(e=>Promise.reject(e))),j.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){try{await i.a.post("/dj-rest-auth/token/refresh/")}catch(e){n((e=>(e&&c.push("/signin"),null)))}return i()(e.config)}return Promise.reject(e)}))}),[c]),Object(k.jsx)(T.Provider,{value:a,children:Object(k.jsx)(B.Provider,{value:n,children:t})})};var I=a(53),L=a.n(I);var D=function(e){var t,a;let{onClose:n}=e;const[c,r]=Object(s.useState)({title:"",content:""}),{title:o,content:i}=c,[j,d]=Object(s.useState)({}),[u,b]=Object(s.useState)(""),h=e=>{r({...c,[e.target.name]:e.target.value})},m=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Title"}),Object(k.jsx)(v.a.Control,{type:"text",name:"title",value:o,onChange:h})]}),null===j||void 0===j||null===(t=j.title)||void 0===t?void 0:t.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Content"}),Object(k.jsx)(v.a.Control,{as:"textarea",rows:1,name:"content",value:i,onChange:h})]}),null===j||void 0===j||null===(a=j.content)||void 0===a?void 0:a.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsx)(C.a,{onClick:()=>n(),children:"cancel"}),Object(k.jsx)(C.a,{type:"submit",children:"create"})]});return Object(k.jsxs)(v.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",o),t.append("content",i);try{await l.post("/categories/",t),r({title:"",content:""}),b("Category created successfully!"),n()}catch(c){var a,s;if(console.log(c),401!==(null===(a=c.response)||void 0===a?void 0:a.status))d(null===(s=c.response)||void 0===s?void 0:s.data)}},children:[u&&Object(k.jsx)(y.a,{variant:"success",onClose:()=>b(""),dismissible:!0,children:u}),Object(k.jsx)(O.a,{children:Object(k.jsx)(p.a,{children:Object(k.jsx)(g.a,{children:m})})})]})};var M=()=>{const e=F(),t=Object(s.useContext)(B),[a,n]=Object(s.useState)(!1),c=()=>{n(!1)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(w.a,{justify:!0,defaultActiveKey:"/",style:{padding:"25px 0 0 0"},children:[Object(k.jsx)(w.a.Item,{className:L.a.Icon,children:Object(k.jsxs)(h.c,{to:"/",children:["BasePage ",Object(k.jsx)("i",{className:"fa-solid fa-campground"})]})}),Object(k.jsx)(w.a.Item,{className:L.a.Icon,children:Object(k.jsxs)(h.c,{to:"/",onClick:async()=>{try{await i.a.post("dj-rest-auth/logout/"),t(null)}catch(e){console.log(e)}},children:["Signout ",Object(k.jsx)("i",{className:"fa-solid fa-ghost"})]})}),Object(k.jsx)(w.a.Item,{className:L.a.Icon,children:Object(k.jsxs)(h.c,{to:"/",onClick:()=>{n(!0)},children:["Categories ",Object(k.jsx)("i",{className:"fa-solid fa-list"})]})}),Object(k.jsxs)(w.a.Item,{className:L.a.Name,children:[null===e||void 0===e?void 0:e.username,"'s TaskManager"]})]}),Object(k.jsxs)(N.a,{show:a,onHide:c,children:[Object(k.jsx)(N.a.Header,{closeButton:!0,children:Object(k.jsx)(N.a.Title,{children:"Categories"})}),Object(k.jsx)(N.a.Body,{children:Object(k.jsx)(D,{onClose:c})})]})]})},P=a(191),U=a(32),G=a.n(U);var E=e=>{const{id:t,owner:a,title:n,content:c,important:r,urgent:o,due:i,category:d,taskPage:u}=e,b=F(),h=(null===b||void 0===b?void 0:b.username)===a,m=Object(S.useHistory)(),[x,O]=Object(s.useState)([]),[p,g]=Object(s.useState)(!0),v=Object(s.useCallback)((async()=>{try{var e;const t=await l.get("/categories/");if(null!==(e=t.data)&&void 0!==e&&e.results){const e=t.data.results.filter((e=>e.owner===(null===b||void 0===b?void 0:b.username)&&e.is_owner));O(e.map((e=>({id:e.id,title:e.title,owner:e.owner}))))}else console.error("Invalid response format for categories:",t.data)}catch(t){console.error("Error fetching categories:",t)}finally{g(!1)}}),[null===b||void 0===b?void 0:b.username]);Object(s.useEffect)((()=>{v()}),[v]);return h?p?Object(k.jsx)("p",{children:"Loading tasks..."}):Object(k.jsxs)(P.a,{className:G.a.Task,children:[h&&u&&"...",Object(k.jsxs)(P.a.Body,{className:G.a.TaskCard,children:[n&&Object(k.jsx)(P.a.Title,{style:{textDecoration:"underline"},children:n}),d&&Object(k.jsx)(P.a.Text,{children:(()=>{const e=x.find((e=>e.id===d));return e?e.title:"Uncategorized"})()}),c&&Object(k.jsx)(P.a.Text,{children:c}),Object(k.jsxs)("div",{className:G.a.ImpUrgContainer,children:[r&&Object(k.jsx)(P.a.Text,{className:G.a.Imp,children:"Important"}),o&&Object(k.jsx)(P.a.Text,{className:G.a.Urg,children:"Urgent"})]}),Object(k.jsx)("div",{className:G.a.DueContainer,children:i&&Object(k.jsx)(P.a.Text,{children:i})})]}),Object(k.jsxs)("div",{className:G.a.TaskFooter,children:[Object(k.jsx)(C.a,{className:G.a.EditButton,onClick:()=>{m.push("/tasks/".concat(t,"/edit"))},children:"Edit"}),Object(k.jsx)(C.a,{className:G.a.DeleteButton,onClick:async()=>{try{await j.delete("/tasks/".concat(t,"/")),e.onTaskDeleted(t)}catch(a){console.log(a)}},children:"Completed"})]})]}):null};var R=function(e){let{message:t,filter:a=""}=e;const[n,c]=Object(s.useState)({results:[]}),[r,o]=Object(s.useState)(!1),{pathname:i}=Object(d.useLocation)();Object(s.useEffect)((()=>{o(!1),(async()=>{try{const{data:e}=await l.get("/tasks/?".concat(a));c(e),o(!0)}catch(e){console.log(e)}})()}),[a,i]);const j=e=>{c((t=>({...t,results:t.results.filter((t=>t.id!==e))})))};return Object(k.jsx)(k.Fragment,{children:r?Object(k.jsx)(k.Fragment,{children:n.results.length?n.results.map((e=>Object(k.jsx)(E,{...e,onTaskDeleted:j},e.id))):Object(k.jsx)(g.a,{style:{color:"white"},children:Object(k.jsx)("h1",{style:{color:"white"},children:"Add Task"})})}):Object(k.jsx)(g.a,{className:b.a.Content,children:Object(k.jsx)("h1",{children:"Loading"})})})},A=a(81),W=a.n(A);var Z=()=>Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:W.a.Title,children:Object(k.jsx)("h3",{children:"My Tasks:"})}),Object(k.jsx)(O.a,{className:"justify-content-md-center ".concat(W.a.Row),children:Object(k.jsx)(p.a,{md:7,lg:8,children:Object(k.jsx)(R,{})})})]}),z=(a(91),a(60)),J=a.n(z),q=a(25),Q=a.n(q);var Y=async function(e){try{var t;const a=await l.get("/categories/");if(null!==(t=a.data)&&void 0!==t&&t.results){return a.data.results.filter((t=>t.owner===(null===e||void 0===e?void 0:e.username)&&t.is_owner)).map((e=>({id:e.id,title:e.title,owner:e.owner,is_owner:e.is_owner})))}return console.error("Invalid response format for categories:",a.data),[]}catch(a){return console.error("Error fetching categories:",a),[]}};var K=function(e){var t,a,n,c;let{onToggle:r}=e;const o=F(),[i,j]=Object(s.useState)({title:"",content:"",due:"",urgent:!1,important:!1,category:""}),{title:d,content:u,due:b,urgent:h,important:m,category:x}=i,[p,g]=Object(s.useState)(null),[_,f]=Object(s.useState)([]),[w,N]=Object(s.useState)(!0),[S,T]=Object(s.useState)({}),[B,H]=Object(s.useState)(""),I=e=>{const{name:t,value:a,type:s,checked:n}=e.target;j("checkbox"===s?e=>({...e,[t]:n}):e=>({...e,[t]:a}))};return Object(s.useEffect)((()=>{(async()=>{const e=await Y(o);f(e),N(!1)})()}),[o]),w?Object(k.jsx)("p",{children:"Loading Task Form..."}):Object(k.jsx)(O.a,{noGutters:!0,className:"justify-content-center",children:Object(k.jsxs)(v.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",d),t.append("content",u),t.append("due",b),t.append("urgent",h),t.append("important",m),t.append("category",x);try{await l.post("/tasks/",t),j({title:"",content:"",due:""}),H("Task created!"),r()}catch(n){var a,s;if(console.log(n),401!==(null===(a=n.response)||void 0===a?void 0:a.status))T(null===(s=n.response)||void 0===s?void 0:s.data)}},className:Q.a.Form,children:[B&&Object(k.jsx)(y.a,{variant:"success",onClose:()=>H(""),dismissible:!0,children:B}),Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Title"}),Object(k.jsx)(v.a.Control,{type:"text",name:"title",value:d,onChange:I})]}),null===S||void 0===S||null===(t=S.title)||void 0===t?void 0:t.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Content"}),Object(k.jsx)(v.a.Control,{as:"textarea",rows:6,name:"content",value:u,onChange:I})]}),null===S||void 0===S||null===(a=S.content)||void 0===a?void 0:a.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{className:"d-flex align-items-center justify-content-center",children:[Object(k.jsx)("div",{className:"mr-3",children:Object(k.jsx)(v.a.Check,{type:"checkbox",id:"important",label:"Important",name:"important",checked:m,onChange:I,className:Q.a.TaskCheck})}),Object(k.jsx)("div",{children:Object(k.jsx)(v.a.Check,{type:"checkbox",id:"urgent",label:"Urgent",name:"urgent",checked:h,onChange:I,className:Q.a.TaskCheck})})]}),Object(k.jsxs)(v.a.Group,{className:"mb-3",children:[Object(k.jsx)(v.a.Label,{className:Q.a.DueDate,children:"Due Date:"}),Object(k.jsx)(J.a,{selected:p,onChange:e=>{g(e),j({...i,due:e.toISOString()})},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"Time",className:"form-control"})]}),null===S||void 0===S||null===(n=S.due)||void 0===n?void 0:n.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Category: "}),Object(k.jsxs)(v.a.Control,{as:"select",custom:!0,name:"category",value:x,onChange:e=>j({...i,category:e.target.value}),children:[Object(k.jsx)("option",{value:"",children:"Category..."}),_.map((e=>Object(k.jsx)("option",{value:e.id,children:e.title},e.id)))]})]}),null===S||void 0===S||null===(c=S.category)||void 0===c?void 0:c.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsx)(C.a,{className:Q.a.CancelButton,onClick:()=>r(),children:"cancel"}),Object(k.jsx)(C.a,{className:Q.a.CreateButton,type:"submit",children:"create"})]})})},V=a(187),X=a(16),$=a.n(X);var ee=function(e){return Object(k.jsx)(C.a,{...e,children:Object(k.jsx)("i",{className:"fa-solid fa-xmark"})})};var te=e=>{let{id:t,owner:a,title:n,monday:c,tuesday:r,wednesday:o,thursday:i,friday:j,saturday:d,sunday:u,onHabitDeleted:b}=e;const[h,m]=Object(s.useState)({monday:c,tuesday:r,wednesday:o,thursday:i,friday:j,saturday:d,sunday:u});Object(s.useEffect)((()=>{m({monday:c,tuesday:r,wednesday:o,thursday:i,friday:j,saturday:d,sunday:u})}),[c,r,o,i,j,d,u]);const x=F(),O=(null===x||void 0===x?void 0:x.username)===a,p=async e=>{m((t=>({...t,[e]:!t[e]})));try{await l.patch("/habits/".concat(t,"/"),{[e]:!h[e]})}catch(a){console.log("Error updating checkbox:",a)}};return Object(k.jsx)(k.Fragment,{children:O&&Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{className:"".concat($.a.ButtonContainer," ").concat($.a.Check),children:[n,Object(k.jsx)("div",{children:Object(k.jsx)(ee,{onClick:async()=>{try{await l.delete("/habits/".concat(t,"/")),b(t)}catch(e){console.log(e)}},className:"".concat($.a.Button," ").concat($.a.DeleteButton),children:"Delete"})})]}),Object(k.jsx)("td",{className:$.a.Check,children:Object(k.jsx)("input",{type:"checkbox",checked:h.monday,onChange:()=>p("monday")})}),Object(k.jsx)("td",{className:$.a.Check,children:Object(k.jsx)("input",{type:"checkbox",checked:h.tuesday,onChange:()=>p("tuesday")})}),Object(k.jsx)("td",{className:$.a.Check,children:Object(k.jsx)("input",{type:"checkbox",checked:h.wednesday,onChange:()=>p("wednesday")})}),Object(k.jsx)("td",{className:$.a.Check,children:Object(k.jsx)("input",{type:"checkbox",checked:h.thursday,onChange:()=>p("thursday")})}),Object(k.jsx)("td",{className:$.a.Check,children:Object(k.jsx)("input",{type:"checkbox",checked:h.friday,onChange:()=>p("friday")})}),Object(k.jsx)("td",{className:$.a.Check,children:Object(k.jsx)("input",{type:"checkbox",checked:h.saturday,onChange:()=>p("saturday")})}),Object(k.jsx)("td",{className:$.a.Check,children:Object(k.jsx)("input",{type:"checkbox",checked:h.sunday,onChange:()=>p("sunday")})})]})})};var ae=function(e){let{message:t,filter:a="",onHabitCreated:n,updateHabits:c}=e;const[r,o]=Object(s.useState)({results:[]}),[i,j]=Object(s.useState)(!1),{pathname:u}=Object(d.useLocation)();Object(s.useEffect)((()=>{j(!1),(async()=>{try{const{data:e}=await l.get("/habits/?".concat(a));o(e),j(!0)}catch(e){console.log(e)}})()}),[a,u]);const b=e=>{n&&(n(e),c((t=>({...t,results:[...t.results,e]}))),console.log("onHabitCreated called"))},h=e=>{o((t=>({...t,results:t.results.filter((t=>t.id!==e))})))};return Object(k.jsx)(k.Fragment,{children:i?Object(k.jsx)(k.Fragment,{children:r.results.length?Object(k.jsx)("div",{className:$.a.Table,children:Object(k.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{color:"white"},className:$.a.Table,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"styles.Check",children:"Habit"}),Object(k.jsx)("th",{className:"styles.Check",children:"M"}),Object(k.jsx)("th",{className:"styles.Check",children:"T"}),Object(k.jsx)("th",{className:"styles.Check",children:"W"}),Object(k.jsx)("th",{className:"styles.Check",children:"T"}),Object(k.jsx)("th",{className:"styles.Check",children:"F"}),Object(k.jsx)("th",{className:"styles.Check",children:"S"}),Object(k.jsx)("th",{className:"styles.Check",children:"S"})]})}),Object(k.jsx)("tbody",{children:r.results.map((e=>Object(k.jsx)(te,{...e,onHabitDeleted:h,onHabitCreated:b},e.id)))})]})}):Object(k.jsx)("h5",{style:{textAlign:"center",color:"white"},children:"You've not added any Habits yet"})}):Object(k.jsx)(g.a,{className:$.a.Content,children:Object(k.jsx)("h1",{children:"Loading"})})})};var se=function(e){var t;let{onHabitCreated:a,onClose:n,updateHabits:c,...r}=e;const[o,i]=Object(s.useState)({title:""}),{title:j}=o,[d,u]=Object(s.useState)({}),[b,h]=Object(s.useState)("");return Object(k.jsxs)(v.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",j);try{const e=await l.post("/habits/",t);i({title:""}),h("Habit created!"),n(),a(e.data),c((t=>({...t,results:[...t.results,e.data]}))),console.log("After updateHabits call")}catch(o){var s,r;if(console.log(o),401!==(null===(s=o.response)||void 0===s?void 0:s.status))u(null===(r=o.response)||void 0===r?void 0:r.data)}},children:[b&&Object(k.jsx)(y.a,{variant:"success",onClose:()=>h(""),dismissible:!0,children:b}),Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Title"}),Object(k.jsx)(v.a.Control,{type:"text",name:"title",value:j,onChange:e=>{const{name:t,value:a,type:s,checked:n}=e.target;i("checkbox"===s?e=>({...e,[t]:n}):e=>({...e,[t]:a}))}})]}),null===d||void 0===d||null===(t=d.title)||void 0===t?void 0:t.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(N.a.Footer,{children:[Object(k.jsx)(C.a,{onClick:()=>n(),children:"cancel"}),Object(k.jsx)(C.a,{type:"submit",children:"create"})]})]})};var ne=function(e){return Object(k.jsx)(C.a,{...e,children:Object(k.jsx)("i",{className:"fa-solid fa-plus"})})};var ce=e=>{let{onHabitCreated:t,message:a,filter:n="",updateHabits:c,...r}=e;const[o,i]=Object(s.useState)(!1),[l,j]=Object(s.useState)({results:[]}),d=()=>i(!1),u=e=>{j((t=>({...t,results:[...t.results,e]}))),t&&(t(e),console.log("onHabitCreated called"))};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[Object(k.jsx)("h3",{children:"My Habits:"}),Object(k.jsx)(ne,{onClick:()=>i(!0),className:$.a.Button})]}),Object(k.jsx)(O.a,{className:"justify-content-md-center",children:Object(k.jsx)(p.a,{children:Object(k.jsx)(ae,{habits:l,onHabitCreated:u,updateHabits:j})})}),Object(k.jsxs)(N.a,{show:o,onHide:d,children:[Object(k.jsx)(N.a.Header,{closeButton:!0,children:Object(k.jsx)(N.a.Title,{children:"Add Habit"})}),Object(k.jsx)(N.a.Body,{children:Object(k.jsx)(se,{onHabitCreated:u,onClose:d,updateHabits:c})})]})]})},re=a(21),oe=a.n(re);var ie=n.a.createContext({}),le=a(82),je=(a(176),a(37)),de=a.n(je);var ue=function(e){return Object(k.jsx)(C.a,{...e,children:Object(k.jsx)("i",{className:"fa-solid fa-play"})})};var be=function(e){return Object(k.jsx)(C.a,{...e,children:Object(k.jsx)("i",{className:"fa-solid fa-pause"})})};class he extends s.Component{render(){let{startColor:e,endColor:t,idCSS:a,rotation:s}=this.props,n="rotate(".concat(s,")");return Object(k.jsx)("svg",{style:{height:0},children:Object(k.jsx)("defs",{children:Object(k.jsxs)("linearGradient",{id:a,gradientTransform:n,children:[Object(k.jsx)("stop",{offset:"0%",stopColor:e}),Object(k.jsx)("stop",{offset:"100%",stopColor:t})]})})})}}var me=he;var xe=function(){const e=Object(s.useContext)(ie),t=(e,t)=>{t(e.target.value)};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(p.a,{children:Object(k.jsx)("label",{children:Object(k.jsx)("input",{type:"number",value:e.workMinutes,onChange:a=>t(a,e.setWorkMinutes),min:1,max:120,className:de.a.inputStyle})})}),Object(k.jsx)(p.a,{children:Object(k.jsx)("label",{children:Object(k.jsx)("input",{type:"number",value:e.breakMinutes,onChange:a=>t(a,e.setBreakMinutes),min:1,max:30,className:de.a.inputStyle})})}),Object(k.jsx)(p.a,{children:Object(k.jsx)("label",{children:Object(k.jsx)("input",{type:"number",value:e.longMinutes,onChange:a=>t(a,e.setLongMinutes),min:1,max:60,className:de.a.inputStyle})})})]})})};var Oe=function(){const e=Object(s.useContext)(ie),[t,a]=Object(s.useState)(!0),[n,c]=Object(s.useState)("work"),[r,o]=Object(s.useState)(0),[i,l]=Object(s.useState)(0),j=Object(s.useRef)(r),d=Object(s.useRef)(t),u=Object(s.useRef)(n),b=Object(s.useRef)(i);Object(s.useEffect)((()=>{j.current=60*e.workMinutes,o(j.current);const t=setInterval((()=>{if(!d.current)return 0===j.current?function(){if("work"===u.current){if(b.current++,4===b.current){l(0),c("longBreak"),u.current="longBreak";const t=60*e.longMinutes;return o(t),void(j.current=t)}}else if("break"===u.current){c("work"),u.current="work";const t=60*e.workMinutes;return o(t),void(j.current=t)}const t="work"===u.current?"break":"work",a=60*("work"===t?e.workMinutes:e.breakMinutes);c(t),u.current=t,o(a),j.current=a}():(j.current--,void o(j.current))}),1e3);return()=>clearInterval(t)}),[e,e.longMinutes,b]);const h="work"===n?60*e.workMinutes:"break"===n?60*e.breakMinutes:60*e.longMinutes,m=Math.round(r/h*100),x=Math.floor(r/60);let O=r%60;return O<10&&(O="0"+O),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(g.a,{className:de.a.Clock,children:Object(k.jsx)(le.a,{value:m,text:x+":"+O,styles:Object(le.b)({textColor:"#fff",pathColor:"work"===n?"url(#workGradient)":"break"===n?"url(#pauseGradient)":"url(#longGradient)",trailColor:"#132935",backgroundColor:"#3e98c7"})})}),Object(k.jsx)(g.a,{style:{width:"80%",marginTop:"10px",textAlign:"center"},children:t?Object(k.jsx)(ue,{onClick:()=>{a(!1),d.current=!1},className:de.a.PlayPauseButton}):Object(k.jsx)(be,{onClick:()=>{a(!0),d.current=!0},className:de.a.PlayPauseButton})}),Object(k.jsx)(g.a,{style:{width:"80%"},children:Object(k.jsx)("div",{style:{marginTop:"10px",textAlign:"center"},children:Object(k.jsx)(xe,{})})}),Object(k.jsx)(me,{startColor:"#183593",endColor:"#a577d2",idCSS:"workGradient",rotation:"45"}),Object(k.jsx)(me,{startColor:"#FF6B6B",endColor:"#FFD166",idCSS:"pauseGradient",rotation:"-45"}),Object(k.jsx)(me,{startColor:"#fd1d1d",endColor:"#833ab4",idCSS:"longGradient",rotation:"-45"})]})};var pe=function(){const[e,t]=Object(s.useState)(!1),[a,n]=Object(s.useState)(25),[c,r]=Object(s.useState)(5),[o,i]=Object(s.useState)(15);return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(ie.Provider,{value:{showSettings:e,setShowSettings:t,workMinutes:a,breakMinutes:c,setWorkMinutes:n,setBreakMinutes:r,longMinutes:o,setLongMinutes:i},children:Object(k.jsx)(Oe,{})})})};var ge=()=>{const[e,t]=Object(s.useState)(!1),a=()=>{t((e=>!e))};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a,{noGutters:!0,className:oe.a.BasePage,children:[Object(k.jsx)(p.a,{sm:12,md:4,className:oe.a.TimerBox,children:Object(k.jsx)(pe,{})}),Object(k.jsxs)(p.a,{sm:12,md:8,className:oe.a.TaskBox,children:[Object(k.jsx)(C.a,{className:oe.a.TaskButton,variant:"primary",onClick:a,children:Object(k.jsx)("i",{className:"fa-solid fa-plus"})}),e?Object(k.jsx)(K,{onToggle:a}):Object(k.jsx)(Z,{})]})]}),Object(k.jsxs)(O.a,{noGutters:!0,className:oe.a.BasePage,children:[Object(k.jsx)(p.a,{sm:12,md:4,className:oe.a.HabitBox,children:Object(k.jsx)(ce,{})}),Object(k.jsx)(p.a,{sm:12,md:8,className:oe.a.NavBox,children:Object(k.jsx)(M,{})})]})]})};var ve=()=>Object(k.jsx)(O.a,{className:"justify-content-md-center ".concat(b.a.Row),children:Object(k.jsx)(p.a,{className:"my-auto p-md-2",md:12,children:Object(k.jsxs)("div",{className:b.a.Title,children:[Object(k.jsx)("h1",{children:"Pom-To-Do-Ro"}),Object(k.jsx)("h4",{className:b.a.Title,children:"Sorry we can't find the page you were looking for!"})]})})});var ye=()=>{var e,t,a,n;const c=F(),[r,o]=Object(s.useState)({}),[i,j]=Object(s.useState)({title:"",content:"",due:"",urgent:"",important:"",category:""}),{title:u,content:b,due:h,urgent:m,important:x,category:g}=i,[_,f]=Object(s.useState)(null),w=Object(d.useHistory)(),{id:N}=Object(d.useParams)(),[S,T]=Object(s.useState)(""),[B,H]=Object(s.useState)([]),[I,L]=Object(s.useState)(!0);Object(s.useEffect)((()=>{(async()=>{const e=await Y(c);H(e),L(!1)})()}),[c]),Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await l.get("/tasks/".concat(N,"/")),{title:t,content:a,due:s,urgent:n,important:c,category:r}=e,o=s?new Date(s):null;j({title:t,content:a,due:o,urgent:n,important:c,category:r?r.id:null})}catch(e){console.log(e)}})()}),[N]);const D=e=>{const{name:t,value:a,type:s,checked:n}=e.target,c="checkbox"===s?n:a;j({...i,[t]:c})};if(I)return Object(k.jsx)("p",{children:"Loading task..."});const P=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Title"}),Object(k.jsx)(v.a.Control,{type:"text",name:"title",value:u,onChange:D})]}),null===r||void 0===r||null===(e=r.title)||void 0===e?void 0:e.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Content"}),Object(k.jsx)(v.a.Control,{as:"textarea",rows:6,name:"content",value:b,onChange:D})]}),null===r||void 0===r||null===(t=r.content)||void 0===t?void 0:t.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{className:"d-flex align-items-center justify-content-center",children:[Object(k.jsx)("div",{className:"mr-3",children:Object(k.jsx)(v.a.Check,{type:"checkbox",id:"important",label:"Important",name:"important",checked:x,onChange:D,className:Q.a.TaskCheck})}),Object(k.jsx)("div",{children:Object(k.jsx)(v.a.Check,{type:"checkbox",id:"urgent",label:"Urgent",name:"urgent",checked:m,onChange:D,className:Q.a.TaskCheck})})]}),Object(k.jsxs)(v.a.Group,{className:"mb-3",children:[Object(k.jsx)(v.a.Label,{className:Q.a.DueDate,children:"Due Date:"}),Object(k.jsx)(J.a,{selected:_,onChange:e=>{f(e),j({...i,due:e.toISOString()})},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"Time",className:"form-control"})]}),null===r||void 0===r||null===(a=r.due)||void 0===a?void 0:a.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsxs)(v.a.Group,{children:[Object(k.jsx)(v.a.Label,{children:"Category: "}),Object(k.jsxs)(v.a.Control,{as:"select",custom:!0,name:"category",value:g,onChange:e=>j({...i,category:e.target.value}),children:[Object(k.jsx)("option",{value:"",children:"Category..."}),B.map((e=>Object(k.jsx)("option",{value:e.id,children:e.title},e.id)))]})]}),null===r||void 0===r||null===(n=r.category)||void 0===n?void 0:n.map(((e,t)=>Object(k.jsx)(y.a,{variant:"warning",children:e},t))),Object(k.jsx)(C.a,{className:Q.a.CancelButton,onClick:()=>w.goBack(),children:"cancel"}),Object(k.jsx)(C.a,{className:Q.a.CreateButton,type:"submit",children:"create"})]});return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a,{noGutters:!0,className:oe.a.BasePage,children:[Object(k.jsx)(p.a,{sm:12,md:4,className:oe.a.TimerBox,children:Object(k.jsx)(pe,{})}),Object(k.jsx)(p.a,{sm:12,md:8,className:"".concat(oe.a.TaskBox," d-flex align-items-center justify-content-center"),children:Object(k.jsxs)(v.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",u),t.append("content",b),t.append("due",h),t.append("urgent",m),t.append("important",x),t.append("category",g);try{await l.put("/tasks/".concat(N,"/"),t),w.push("/"),T("Task edited!")}catch(n){var a,s;if(console.log(n),401!==(null===(a=n.response)||void 0===a?void 0:a.status))o(null===(s=n.response)||void 0===s?void 0:s.data)}},className:Q.a.Form,children:[Object(k.jsxs)("h2",{children:["Edit Task ",i.title]}),S&&Object(k.jsx)(y.a,{variant:"success",onClose:()=>T(""),dismissible:!0,children:S}),Object(k.jsx)(O.a,{children:Object(k.jsx)(p.a,{children:P})})]})})]}),Object(k.jsxs)(O.a,{noGutters:!0,className:oe.a.BasePage,children:[Object(k.jsx)(p.a,{sm:12,md:4,className:oe.a.HabitBox,children:Object(k.jsx)(ce,{})}),Object(k.jsx)(p.a,{sm:12,md:8,className:oe.a.NavBox,children:Object(k.jsx)(M,{})})]})]})};var Ce=function(){const e=F();return Object(k.jsx)("div",{className:b.a.App,children:Object(k.jsxs)(d.Switch,{children:[Object(k.jsx)(d.Route,{exact:!0,path:"/",render:()=>e?Object(k.jsx)(ge,{}):Object(k.jsx)(f,{})}),Object(k.jsx)(d.Route,{exact:!0,path:"/signup",render:()=>Object(k.jsx)(_,{})}),Object(k.jsx)(d.Route,{exact:!0,path:"/tasks/:id/edit",render:()=>Object(k.jsx)(ye,{})}),Object(k.jsx)(d.Route,{render:()=>Object(k.jsx)(ve,{})})]})})};var ke=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,192)).then((t=>{let{getCLS:a,getFID:s,getFCP:n,getLCP:c,getTTFB:r}=t;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(k.jsx)(h.a,{children:Object(k.jsx)(H,{children:Object(k.jsx)(Ce,{})})}),document.getElementById("root")),ke()},21:function(e,t,a){e.exports={BasePage:"BasePage_BasePage__2nxg4",HabitBox:"BasePage_HabitBox__3MRc0",NavBox:"BasePage_NavBox__3HHwn",TimerBox:"BasePage_TimerBox__1ZAUI",TaskBox:"BasePage_TaskBox__2j0BY",TaskButton:"BasePage_TaskButton__3Q3cI"}},25:function(e,t,a){e.exports={Form:"CreateEditTask_Form__2ElqW",TaskCheck:"CreateEditTask_TaskCheck__1q7HX",DueDate:"CreateEditTask_DueDate__NQkED",CancelButton:"CreateEditTask_CancelButton__2peOH",CreateButton:"CreateEditTask_CreateButton__2TmYt"}},32:function(e,t,a){e.exports={Task:"TaskList_Task__5WHgs",TaskCard:"TaskList_TaskCard__67y4r",DeleteButton:"TaskList_DeleteButton__1uL3g",EditButton:"TaskList_EditButton__itZge",TaskFooter:"TaskList_TaskFooter__1rOS8",ImpUrgContainer:"TaskList_ImpUrgContainer__2jgJ-",DueContainer:"TaskList_DueContainer__1NBwx",Imp:"TaskList_Imp__EHYI5",Urg:"TaskList_Urg__jvdjk"}},36:function(e,t,a){e.exports={App:"App_App__16ZpL",div:"App_div__21psy",Main:"App_Main__HQkvd",Row:"App_Row__3J61I",Title:"App_Title__2qxNr",Content:"App_Content__ZaMNr"}},37:function(e,t,a){e.exports={inputStyle:"Timer_inputStyle__e0iRR",PlayPauseButton:"Timer_PlayPauseButton__3zCrK",Clock:"Timer_Clock__GZcF8"}},53:function(e,t,a){e.exports={Icon:"NavBar_Icon__3ntf8",Name:"NavBar_Name__2YEhQ"}},81:function(e,t,a){e.exports={Row:"TaskManager_Row__8DGe5",Title:"TaskManager_Title__1FHHG"}}},[[179,1,2]]]);
//# sourceMappingURL=main.6bde0d02.chunk.js.map